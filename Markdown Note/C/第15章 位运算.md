在C语言中，可以单独操控变量中的位。



## 15.1二进制数、位和字节

1字节包含8位bit。可以从左往右给这8位分别编号7~0，编号0的位被称为低阶位。编号7的位被称为高阶位。

128是2的7次幂，以此类推。如果把1字节所有位都设置位1：1111 1111 。这个二进制数的值是：

128+64+32+16+8+4+2+1=255。

二该字节最小的二进制数是 0000 0000 ，其值位0。因此，1字节可储存0~255范围内的数字，总共256个值。





#### 15.1.2 有符号整数

计算机如何表示负数，用8位中的高阶位表示，如1000 0001表示-1，0000 0001 表示1。因此1字节表示有符号整数的范围是-127~+127。





#### 15.1.3 原码、补码、反码。

原码、补码、反码的出现是为了解决计算机减法的问题，因为计算机中只有加法器，所以要把减法转换为加法运算

```c
14 :  0000 1110
-21:  1001 0101
```

用最高位表示正负数，如果为1则该值为负数，如果为0则该值为正数

**原码**：一个值转为二进制数，则该二进制数则称为原码

**反码**：

对于正数的原码、反码、补码相同，为原码本身。	

对于负数，**原码转反码的方法是，符号位不变，其他取反**，如

```c
-21 : 1001 0101  (原码)
-21:  1110 1010  (反码)
```

**补码**：

**补码是在反码的基础上+1**，如

```c
-21: 1001 0101  (原码)
-21: 1110 1010  (反码)
-21: 1110 1011  (补码)
```



**计算机中计算方式**

在计算机中是怎么计算14+（-21）,计算机将14的补码加上-21的补码，已知正数的补码等于原码本身，**而负数的补码要先转为反码，再对反码+1**。

```c
 14:  0000 1110; (补码、原码、反码相同)
-21:  1110 1011;  (-21的补码)
则14+（-21）为：
 0000 1110
+1110 1011
 ——————————
=1111 1001  （-7的补码）
 1111 1000  （-7的反码）
 1000 0111   (-7的原码)
标准位为1，为负数，其他位转为十进制是：
-(4+2+1) = -7;
```





## 15.2 C按位运算符

C提供按位逻辑运算符和移位运算符



#### 15.2.1 按位逻辑运算符

**4个按位逻辑运算符都用于整型数据，包括char**，之所以叫按位运算，是因为这些操作都是针对每一个位进行，不影响他左右两边的位。



##### 1. 二进制反码或按位取反：~

一元运算符~把1变为0，把0变位1。

```c
~(10011010) //表达式
(01100101)  //结果值
```

```c
~15
~(0000 1111)  //15的二进制
(1111 0000) // 取反后的补码
(1000 1111)  //反码
(1001 0000)  //取反后获得的原码 -16
```

先把15转换位二进制，然后按位取反获得二进制，此时的二进制为补码形式，需要进行补码转原码



按位取反运算符有两种情况:

**第1种**：运算对象是正数，此时，运算符将该整数的二进制按位取反。取反后的二进制数是补码，需要将补码转换为原码，此时补码转换原码的方式是**标识位不变，其他位取反后+1** ，如：

```c
~15
~(0000 1111)  //15的二进制
(1111 0000) // 取反后的补码
(1000 1111)  //反码
(1001 0000)  //反码+1 
 标识位为1，代表该数是负数，将剩余的二进制转换为10进制，得-16
```



**第二种情况**：运算对象是负数，同意的，二进制按位取反，取反后的二进制是补码。此时，补码转换原码的方式是**"标识位不变，其他位取反-1"**，如:

```c
~-32;
~(1010 0000)  //-32的二进制表示方法
 (0101 1111)  //按位取反后的补码
 (0010 0000) //反码
 ()
```









