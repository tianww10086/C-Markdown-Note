## 3.1 数据类型



C语言中其基本类型有：char 、short 、 int 、float、 double 、long 、long long 

| 类型      | 字节大小        | 数值范围                                | unsigned型                 |
| --------- | --------------- | --------------------------------------- | -------------------------- |
| char      | 1字节（8位bit） | -2^8-1 ~ 2^8-1( -128~127 )              | （2^8）-1（0~255）         |
| short     | 2字节（16bit）  | -2^16-1~2^16-1(-32768~32767)            | （2^16）-1（0~65535）      |
| int       | 4字节（32bit）  | -2^32-1~ 2^32-1(-2147483648~2147483647) | （2^32）-1（0~4294967295） |
| long      | 4字节（32bit）  | -2^32-1~ 2^32-1(-2147483648~2147483647) | （2^32）-1（0~4294967295） |
| long long | 8字节（64bit）  | -2^64-1~2^64-1                          | （2^64）-1                 |
| float     | 4字节（32bit）  | 精度（有效数字）：6-9位                 |                            |
| double    | 8字节（64bit）  | 精度（有效数字）：15-17位               |                            |



##### 3.1.1 浮点数

在计算机中，一般使用e计数法表示浮点数（实型），如3.16E2、2e-8。3.16E2表示3.16*10^2，可以把3.16看成底数，把E2看成10的2次方，E可以是大写也可以是小写；注意，e后面的数字必须是整数，前面必须有数字；



##### 3.1.2 八进制和十六进制

前缀为0的是八进制，如051，063

前缀为0x的是十六进制，如0x11,0x13

要使十进制数字以八进制显示，则需使用%o占位符,同样的，十六进制则需使用%x占位符，这样输出的数字是没有前缀的，如果要想输出前缀0和0x，则需分别在转换说明中加入#

```c
#include<stdio.h>
int main() {
	int hec=100;
	printf("十进制100分别转换：\n");
	printf("转换八进制：%o,转换十六进制%x\n",hec,hec);
	printf("显示前缀转换八进制：%#o,转换十六进制%#x\n",hec,hec);
}
```



##### 3.1.3 long、long long 和unsigned类型

使用L后缀表示long常量，LL后缀表示long long常量，L后缀也可以用于八进制整数和十六进制整数，如：020L，0x10L;

U和u后缀表示unsigned long long ，如5ull,10LLU



##### 3.1.4 打印short 、long 、long long 和unsigned类型

unsigned int :%u

long:%ld或%d

%o和%x前面可以使用l前缀



##### 3.1.5 sizeof()运算符

sizeof()运算符可以计算出每个类型的所占字节大小，他的参数可以是变量，也可以是数据类型名

```
size_t sizeof(参数);
```



如下

```c
#include<stdio.h>
int main() {
	double fudian = 18.8;
	printf("short的字节大小：%d\n", sizeof(short));
	printf("char的字节大小：%d\n", sizeof(char));
	printf("int的字节大小：%zu\n", sizeof(int));
	printf("float的字节大小：%zu\n", sizeof(float));
	printf("double的字节大小：%zu\n", sizeof(fudian));
	printf("long的字节大小：%zu\n", sizeof(long));
	printf("long long的字节大小：%zu\n", sizeof(long));
}
```

sizeof（）的返回值为size_t类型，对应的转换修饰说明为z。也可以使用整型%d输出，不影响结果，但编译器会警告待打印类型不匹配



## 3.2转义序列

| 转义序列 | 含义                                                         |
| -------- | ------------------------------------------------------------ |
| \a       | 警报                                                         |
| \b       | 退格                                                         |
| \f       | 换页                                                         |
| \n       | 换行                                                         |
| \r       | 回车                                                         |
| \t       | 水平制表符                                                   |
| \v       | 垂直制表符                                                   |
| \\\      | \                                                            |
| \\'      | \'                                                           |
| \\"      | \"                                                           |
| \?       | ?                                                            |
| \0oo     | 八进制值（oo必须是有效的八进制值，即每个o可表示0~7中的一个数） |
| \xhh     | 十六进制值（hh必须是有效的十六进制数，即每个h可表示0~f中的一个） |

\0oo,只能为两位，如:\017、\046，且不能超过范围：像下面这样的是不合法的八进制值：

\019、\028

\0oo的可以省略，如'\07'可以写成'\7',0省略之后这最多写三位，如\100，是合法的，超过三位则不合法；

```
int main()
{
	char b = '\1000';
	char a = '\100';
	char c = '0';
	printf("%d\n", a); //64
	printf("%d\n", b); //48
	printf("%d\n", c); //48
}
```

字符a能正确赋值为八进制100，所以把a解释为十进制输出时是64，但是字符b没有正确的赋值，实际上，因为他超过了\后最多三位的规则，字符b被赋的值是字符0，而字符0对应的ASCII码即48；





## 3.3 进制之间的转换

在计算机中，有十进制、二进制、八进制、十六进制几种表示方法，它们之间可以互相转换

#### 3.3.1 二、八、十六进制转换为十进制

第一步，确定进制基数（2,8,16）

第二部，拆分每一位：从右向左（从低位到最高位）依次处理每一位数字。

第三步，每一位数字乘以进制的i次方，i为位数。

第四部，将所有位的值相加，得到十进制结果



#### 3.3.2 二进制、八进制、十六进制互相转换

由于2^3=8，所以每3位二进制可以转换为1位八进制

```c
10111001 //可以从右到左3位拆分
拆分为：  01  111 001
从右边依次转换十进制为： 2  7   1
所以二进制转换为八进制为：271；
```

由于2^4=16，所以每4位二进制可以转换为1位十六进制。





## 3.4 rand()随机函数

C语言的rand()函数是标准库中用于生成伪随机数的函数，其定义在头文件<stdlib.h>中

函数原型

```c
int rand(void);
```

返回值：返回一个范围在0到RAND_MAX之间的整数，RAND_MAX是一个宏定义，通常为32767；

#### 3.4.1生成特定范围的随机数

通用公式：生成[a,b]范围的随机数：

```c
int num = a+rand()%(b-a+1)
```

示例，生成1到100的随机数：

```c
int num = 1+rand()%(100-1+1);
```

示例，用rand函数生成一个随机的三位数

```c
int x = 100+rand()%900;
printf("%d", x);
```



#### 3.4.2 解决伪随机性

rand()生成的随机数是"伪随机的"，每次程序运行时，默认生成的随机数序列是相同的，因为种子(seed)默认固定为1.

使用srand(seed)设置种植，通常用当前时间作为种子（需要包含<time.h>）

```c
#include<stdio.h>
#include<stdlib.h>
#include<time.h>
int main() {
	srand(time(0));
	int x = rand()%900+100;
	printf("%d", x);
}
```

现在每次运行的x值都是不一样的随机数。



## 3.5编程练习

1. 编写一个程序，要求提示输入一个ASCII码值（如，66）然后打印输入的字符

   ```
   ```

   

2. 编写一个程序，发出一声警报，然后打印"Warning Warning!"；

   ```
   ```

   

   

